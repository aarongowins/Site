(function(e){function g(a,b){for(var c=0,d=j[a],e=d.length;c<e;c++)d[c](b)}function h(a){a&&(document.title=a+k)}var l=Boolean("undefined"!==typeof history&&history.pushState&&history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(navigator.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(navigator.userAgent))),d=function(){return d.nativeSupport()};d.version="0.1.2";d.nativeSupport=function(){return l};var j={"memoir.popstate":[],"memoir.changestate":[]},k="",f={pushState:function(a,
b,c){history.pushState(a,b||"",c||"");h(b);g("memoir.changestate",{state:a})},replaceState:function(a,b,c){history.replaceState(a,b||"",c||"");h(b);g("memoir.changestate",{state:a})},bind:function(a,b){a in j&&j[a].push(b)},state:function(){return history.state},initialState:function(a){return history.replaceState(a,"",location.href)},setTitleSuffix:function(a){k=a||""}},p={pushState:function(a,b,c){c&&location.href!==c?location.href=c:h(b)},replaceState:function(a,b,c){c&&location.href!==c?location.href=
c:h(b)},bind:function(){},initialState:function(){},state:function(){return null},setTitleSuffix:function(a){k=a||""}},q=d,f=l?f:p,i;for(i in f)f.hasOwnProperty(i)&&(q[i]=f[i]);var m=e.onpopstate,n="state"in history,r=location.href;e.onpopstate=function(a){m&&m.call(this,a);var b=!n&&location.href==r;n=!0;b||(g("memoir.popstate",a),g("memoir.changestate",a))};if("undefined"!==typeof define)define("memoir",[],function(){return d});else{var o=e.memoir;d.noConflict=o?function(){e.memoir=o;return d}:
function(){delete e.memoir;return d};e.memoir=d}})(window);