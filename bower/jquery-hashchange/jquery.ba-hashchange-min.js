(function(c,o){function d(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var i=document,k,b=c.event.special,e=i.documentMode,l="onhashchange"in o&&(void 0===e||7<e);c.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")};c.fn.hashchange.delay=50;b.hashchange=c.extend(b.hashchange,{setup:function(){if(l)return!1;c(k.start)},teardown:function(){if(l)return!1;c(k.stop)}});var n=function(){var a=d(),b=p(j);a!==j?(m(j=a,b),c(o).trigger("hashchange")):
b!==j&&(location.href=location.href.replace(/#.*/,"")+b);g=setTimeout(n,c.fn.hashchange.delay)},b={},g,j=d(),m=e=function(a){return a},p=e;b.start=function(){g||n()};b.stop=function(){g&&clearTimeout(g);g=void 0};if(c.browser.msie&&!l){var f,h;b.start=function(){f||(h=(h=c.fn.hashchange.src)&&h+d(),f=c('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){h||m(d());n()}).attr("src",h||"javascript:0").insertAfter("body")[0].contentWindow,i.onpropertychange=function(){try{"title"===
event.propertyName&&(f.document.title=i.title)}catch(a){}})};b.stop=e;p=function(){return d(f.location.href)};m=function(a,b){var d=f.document,e=c.fn.hashchange.domain;a!==b&&(d.title=i.title,d.open(),e&&d.write('<script>document.domain="'+e+'"<\/script>'),d.close(),f.location.hash=a)}}k=b})(jQuery,this);